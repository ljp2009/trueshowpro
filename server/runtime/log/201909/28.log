---------------------------------------------------------------
[ 2019-09-28T19:53:50+08:00 ] 127.0.0.1 POST trueshow/index/reservation/getAllInfo
[运行时间：2.263373s] [吞吐率：0.44req/s] [内存消耗：2,167.05kb] [文件加载：51]
[ info ] [ LANG ] D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'reservation',
    2 => 'getAllInfo',
  ),
)
[ info ] [ HEADER ] array (
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'https://servicewechat.com/wxa5ec17098b9f6637/devtools/page-frame.html',
  'accept' => '*/*',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_2 like Mac OS X) AppleWebKit/602.3.12 (KHTML, like Gecko) Mobile/14C92 Safari/601.1 wechatdevtools/1.02.1907300 MicroMessenger/7.0.4 Language/zh_CN webview/',
  'sec-fetch-dest' => 'empty',
  'sec-fetch-site' => 'cross-site',
  'sec-fetch-user' => '?F',
  'origin' => 'http://127.0.0.1:42350',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'content-length' => '42',
  'connection' => 'close',
  'host' => 'trueshow',
)
[ info ] [ PARAM ] array (
  '/index/reservation/getAllInfo' => '',
  'uid' => '115',
  'userLat' => '39.98246',
  'userLng' => '117.07822',
)
[ info ] [ RUN ] app\index\controller\Reservation->getAllInfo[ D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\application\index\controller\Reservation.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.095558s ] mysql:host=47.100.218.253;port=3306;dbname=trueshow;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `service_resn` [ RunTime:0.072012s ]
[ sql ] [ SQL ] SELECT `service_resn`.`RESNId`,`service_resn`.`StaffId`,`service_resn`.`ServiceName`,`service_resn`.`Price_Min`,`service_resn`.`Price_Max`,`service_resn`.`Duration`,`service_resn`.`ServiceSub`,`service_resn`.`UsedCount`,`service_resn`.`ReservationId`,`service`.`Pic`,`service`.`Discription` FROM `service_resn` INNER JOIN `service` ON `service_resn`.`ServiceId`=`service`.`ServiceId` WHERE  `CustomerId` = 115  AND `ReservationId` = 0 [ RunTime:0.078202s ]
[ sql ] [ SQL ] SELECT `service_resn`.`RESNId`,`service_resn`.`StaffId`,`service_resn`.`ServiceName`,`service_resn`.`Price_Min`,`service_resn`.`Price_Max`,`service_resn`.`Duration`,`service_resn`.`ServiceSub`,`service_resn`.`UsedCount`,`service_resn`.`ReservationId`,`service`.`Pic`,`service`.`Discription` FROM `service_resn` INNER JOIN `service` ON `service_resn`.`ServiceId`=`service`.`ServiceId` INNER JOIN `reservation` ON `reservation`.`ReservationId`=`reservation`.`ReservationId` WHERE  `service_resn`.`ReservationId` > 0 [ RunTime:0.067878s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `schedule` [ RunTime:0.069757s ]
[ sql ] [ SQL ] SELECT * FROM `schedule` WHERE  `StaffId` = 113 [ RunTime:0.064431s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `user` [ RunTime:0.073644s ]
[ sql ] [ SQL ] SELECT Avatar as avatar,NickName as nickName,Satisfection as satisfection,Certificated as certificated,`WorkStartTime`,`WorkEndTime` FROM `user` WHERE  `UserId` = 113 LIMIT 1 [ RunTime:0.067856s ]
[ sql ] [ SQL ] SELECT `FirmId` FROM `user` WHERE  `UserId` = 113 LIMIT 1 [ RunTime:0.061584s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `firm` [ RunTime:0.073499s ]
[ sql ] [ SQL ] SELECT `FirmName`,`FirmType`,`FirmAddr`,`Staffs`,`Lat`,`Lng`,`Certificated` FROM `firm` WHERE  `ID` = 1 LIMIT 1 [ RunTime:0.064375s ]
[ sql ] [ SQL ] select ID,ROUND(
        6378.138 * 2 * ASIN(SQRT(POW(SIN((39.98246 * PI() / 180 - Lat * PI() / 180) / 2),2) + COS(39.98246 * PI() / 180) * COS(Lat * PI() / 180) * POW( SIN(( 117.07822 * PI() / 180 - Lng * PI() / 180 ) / 2),  2) )) * 1000) AS distance from firm where ID=1 [ RunTime:0.167240s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `reservation` [ RunTime:0.067722s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 115  AND `Status` = 5  AND `firmId` = 1 LIMIT 1 [ RunTime:0.080305s ]
[ sql ] [ SQL ] SELECT * FROM `schedule` WHERE  `StaffId` = 115 [ RunTime:0.072516s ]
[ sql ] [ SQL ] SELECT Avatar as avatar,NickName as nickName,Satisfection as satisfection,Certificated as certificated,`WorkStartTime`,`WorkEndTime` FROM `user` WHERE  `UserId` = 115 LIMIT 1 [ RunTime:0.072276s ]
[ sql ] [ SQL ] SELECT `FirmId` FROM `user` WHERE  `UserId` = 115 LIMIT 1 [ RunTime:0.067263s ]
[ sql ] [ SQL ] SELECT `FirmName`,`FirmType`,`FirmAddr`,`Staffs`,`Lat`,`Lng`,`Certificated` FROM `firm` WHERE  `ID` = 77 LIMIT 1 [ RunTime:0.080446s ]
[ sql ] [ SQL ] select ID,ROUND(
        6378.138 * 2 * ASIN(SQRT(POW(SIN((39.98246 * PI() / 180 - Lat * PI() / 180) / 2),2) + COS(39.98246 * PI() / 180) * COS(Lat * PI() / 180) * POW( SIN(( 117.07822 * PI() / 180 - Lng * PI() / 180 ) / 2),  2) )) * 1000) AS distance from firm where ID=77 [ RunTime:0.141023s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 115  AND `Status` = 5  AND `firmId` = 77 LIMIT 1 [ RunTime:0.061073s ]
---------------------------------------------------------------
[ 2019-09-28T19:53:51+08:00 ] 127.0.0.1 POST trueshow/index/reservation/getAlternative
[运行时间：0.595945s] [吞吐率：1.68req/s] [内存消耗：2,189.91kb] [文件加载：56]
[ info ] [ LANG ] D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'reservation',
    2 => 'getAlternative',
  ),
)
[ info ] [ HEADER ] array (
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'https://servicewechat.com/wxa5ec17098b9f6637/devtools/page-frame.html',
  'accept' => '*/*',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_2 like Mac OS X) AppleWebKit/602.3.12 (KHTML, like Gecko) Mobile/14C92 Safari/601.1 wechatdevtools/1.02.1907300 MicroMessenger/7.0.4 Language/zh_CN webview/',
  'sec-fetch-dest' => 'empty',
  'sec-fetch-site' => 'cross-site',
  'sec-fetch-user' => '?F',
  'origin' => 'http://127.0.0.1:42350',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'content-length' => '29',
  'connection' => 'close',
  'host' => 'trueshow',
)
[ info ] [ PARAM ] array (
  '/index/reservation/getAlternative' => '',
  'firmId' => '1',
  'allMoney' => '140',
  'uid' => '116',
)
[ info ] [ RUN ] app\index\controller\Reservation->getAlternative[ D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\application\index\controller\Reservation.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.093080s ] mysql:host=47.100.218.253;port=3306;dbname=trueshow;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `promote` [ RunTime:0.064366s ]
[ sql ] [ SQL ] SELECT * FROM `promote` INNER JOIN `promote_item` ON `promote`.`PromoteId`=`promote_item`.`PromoteId` WHERE  `promote`.`FirmId` = '1'  AND `promote`.`EndTime` >= '2019-09-28 19:53:51' [ RunTime:0.062463s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `reservation` [ RunTime:0.063931s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 116 LIMIT 1 [ RunTime:0.061555s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 116 LIMIT 1 [ RunTime:0.062758s ]
---------------------------------------------------------------
[ 2019-09-28T20:00:58+08:00 ] 127.0.0.1 POST trueshow/index/reservation/getAllInfo
[运行时间：1.344186s] [吞吐率：0.74req/s] [内存消耗：2,167.70kb] [文件加载：51]
[ info ] [ LANG ] D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'reservation',
    2 => 'getAllInfo',
  ),
)
[ info ] [ HEADER ] array (
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'https://servicewechat.com/wxa5ec17098b9f6637/devtools/page-frame.html',
  'accept' => '*/*',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_2 like Mac OS X) AppleWebKit/602.3.12 (KHTML, like Gecko) Mobile/14C92 Safari/601.1 wechatdevtools/1.02.1907300 MicroMessenger/7.0.4 Language/zh_CN webview/',
  'sec-fetch-dest' => 'empty',
  'sec-fetch-site' => 'cross-site',
  'sec-fetch-user' => '?F',
  'origin' => 'http://127.0.0.1:42350',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'content-length' => '42',
  'connection' => 'close',
  'host' => 'trueshow',
)
[ info ] [ PARAM ] array (
  '/index/reservation/getAllInfo' => '',
  'uid' => '115',
  'userLat' => '39.98246',
  'userLng' => '117.07822',
)
[ info ] [ RUN ] app\index\controller\Reservation->getAllInfo[ D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\application\index\controller\Reservation.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.092792s ] mysql:host=47.100.218.253;port=3306;dbname=trueshow;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `service_resn` [ RunTime:0.060259s ]
[ sql ] [ SQL ] SELECT `service_resn`.`RESNId`,`service_resn`.`StaffId`,`service_resn`.`ServiceName`,`service_resn`.`Price_Min`,`service_resn`.`Price_Max`,`service_resn`.`Duration`,`service_resn`.`ServiceSub`,`service_resn`.`UsedCount`,`service_resn`.`ReservationId`,`service`.`Pic`,`service`.`Discription` FROM `service_resn` INNER JOIN `service` ON `service_resn`.`ServiceId`=`service`.`ServiceId` WHERE  `CustomerId` = 115  AND `ReservationId` = 0 [ RunTime:0.060059s ]
[ sql ] [ SQL ] SELECT `service_resn`.`RESNId`,`service_resn`.`StaffId`,`service_resn`.`ServiceName`,`service_resn`.`Price_Min`,`service_resn`.`Price_Max`,`service_resn`.`Duration`,`service_resn`.`ServiceSub`,`service_resn`.`UsedCount`,`service_resn`.`ReservationId`,`service`.`Pic`,`service`.`Discription` FROM `service_resn` INNER JOIN `service` ON `service_resn`.`ServiceId`=`service`.`ServiceId` INNER JOIN `reservation` ON `reservation`.`ReservationId`=`reservation`.`ReservationId` WHERE  `service_resn`.`ReservationId` > 0 [ RunTime:0.059499s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `schedule` [ RunTime:0.059428s ]
[ sql ] [ SQL ] SELECT * FROM `schedule` WHERE  `StaffId` = 113 [ RunTime:0.060530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `user` [ RunTime:0.062065s ]
[ sql ] [ SQL ] SELECT Avatar as avatar,NickName as nickName,Satisfection as satisfection,Certificated as certificated,`WorkStartTime`,`WorkEndTime` FROM `user` WHERE  `UserId` = 113 LIMIT 1 [ RunTime:0.059148s ]
[ sql ] [ SQL ] SELECT `FirmId` FROM `user` WHERE  `UserId` = 113 LIMIT 1 [ RunTime:0.061632s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `firm` [ RunTime:0.060133s ]
[ sql ] [ SQL ] SELECT `FirmName`,`FirmType`,`FirmAddr`,`Staffs`,`Lat`,`Lng`,`Certificated` FROM `firm` WHERE  `ID` = 1 LIMIT 1 [ RunTime:0.060144s ]
[ sql ] [ SQL ] select ID,ROUND(
        6378.138 * 2 * ASIN(SQRT(POW(SIN((39.98246 * PI() / 180 - Lat * PI() / 180) / 2),2) + COS(39.98246 * PI() / 180) * COS(Lat * PI() / 180) * POW( SIN(( 117.07822 * PI() / 180 - Lng * PI() / 180 ) / 2),  2) )) * 1000) AS distance from firm where ID=1 [ RunTime:0.059513s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `reservation` [ RunTime:0.060763s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 115  AND `Status` = 5  AND `firmId` = 1 LIMIT 1 [ RunTime:0.061741s ]
[ sql ] [ SQL ] SELECT * FROM `schedule` WHERE  `StaffId` = 115 [ RunTime:0.060377s ]
[ sql ] [ SQL ] SELECT Avatar as avatar,NickName as nickName,Satisfection as satisfection,Certificated as certificated,`WorkStartTime`,`WorkEndTime` FROM `user` WHERE  `UserId` = 115 LIMIT 1 [ RunTime:0.060178s ]
[ sql ] [ SQL ] SELECT `FirmId` FROM `user` WHERE  `UserId` = 115 LIMIT 1 [ RunTime:0.074312s ]
[ sql ] [ SQL ] SELECT `FirmName`,`FirmType`,`FirmAddr`,`Staffs`,`Lat`,`Lng`,`Certificated` FROM `firm` WHERE  `ID` = 77 LIMIT 1 [ RunTime:0.060382s ]
[ sql ] [ SQL ] select ID,ROUND(
        6378.138 * 2 * ASIN(SQRT(POW(SIN((39.98246 * PI() / 180 - Lat * PI() / 180) / 2),2) + COS(39.98246 * PI() / 180) * COS(Lat * PI() / 180) * POW( SIN(( 117.07822 * PI() / 180 - Lng * PI() / 180 ) / 2),  2) )) * 1000) AS distance from firm where ID=77 [ RunTime:0.060362s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 115  AND `Status` = 5  AND `firmId` = 77 LIMIT 1 [ RunTime:0.066430s ]
---------------------------------------------------------------
[ 2019-09-28T20:00:58+08:00 ] 127.0.0.1 POST trueshow/index/reservation/getAlternative
[运行时间：0.452444s] [吞吐率：2.21req/s] [内存消耗：2,186.63kb] [文件加载：56]
[ info ] [ LANG ] D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'reservation',
    2 => 'getAlternative',
  ),
)
[ info ] [ HEADER ] array (
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'https://servicewechat.com/wxa5ec17098b9f6637/devtools/page-frame.html',
  'accept' => '*/*',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_2 like Mac OS X) AppleWebKit/602.3.12 (KHTML, like Gecko) Mobile/14C92 Safari/601.1 wechatdevtools/1.02.1907300 MicroMessenger/7.0.4 Language/zh_CN webview/',
  'sec-fetch-dest' => 'empty',
  'sec-fetch-site' => 'cross-site',
  'sec-fetch-user' => '?F',
  'origin' => 'http://127.0.0.1:42350',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'content-length' => '29',
  'connection' => 'close',
  'host' => 'trueshow',
)
[ info ] [ PARAM ] array (
  '/index/reservation/getAlternative' => '',
  'firmId' => '1',
  'allMoney' => '140',
  'uid' => '116',
)
[ info ] [ RUN ] app\index\controller\Reservation->getAlternative[ D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\application\index\controller\Reservation.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.088594s ] mysql:host=47.100.218.253;port=3306;dbname=trueshow;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `promote` [ RunTime:0.059355s ]
[ sql ] [ SQL ] SELECT * FROM `promote` INNER JOIN `promote_item` ON `promote`.`PromoteId`=`promote_item`.`PromoteId` WHERE  `promote`.`FirmId` = '1'  AND `promote`.`EndTime` >= '2019-09-28 20:00:58' [ RunTime:0.061857s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `reservation` [ RunTime:0.060825s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 116 LIMIT 1 [ RunTime:0.059468s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 116 LIMIT 1 [ RunTime:0.058774s ]
---------------------------------------------------------------
[ 2019-09-28T20:05:19+08:00 ] 127.0.0.1 POST trueshow/index/reservation/getAllInfo
[运行时间：1.500878s] [吞吐率：0.67req/s] [内存消耗：2,167.61kb] [文件加载：51]
[ info ] [ LANG ] D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'reservation',
    2 => 'getAllInfo',
  ),
)
[ info ] [ HEADER ] array (
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'https://servicewechat.com/wxa5ec17098b9f6637/devtools/page-frame.html',
  'accept' => '*/*',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_2 like Mac OS X) AppleWebKit/602.3.12 (KHTML, like Gecko) Mobile/14C92 Safari/601.1 wechatdevtools/1.02.1907300 MicroMessenger/7.0.4 Language/zh_CN webview/',
  'sec-fetch-dest' => 'empty',
  'sec-fetch-site' => 'cross-site',
  'sec-fetch-user' => '?F',
  'origin' => 'http://127.0.0.1:42350',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'content-length' => '42',
  'connection' => 'close',
  'host' => 'trueshow',
)
[ info ] [ PARAM ] array (
  '/index/reservation/getAllInfo' => '',
  'uid' => '115',
  'userLat' => '39.98246',
  'userLng' => '117.07822',
)
[ info ] [ RUN ] app\index\controller\Reservation->getAllInfo[ D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\application\index\controller\Reservation.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.115574s ] mysql:host=47.100.218.253;port=3306;dbname=trueshow;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `service_resn` [ RunTime:0.066100s ]
[ sql ] [ SQL ] SELECT `service_resn`.`RESNId`,`service_resn`.`StaffId`,`service_resn`.`ServiceName`,`service_resn`.`Price_Min`,`service_resn`.`Price_Max`,`service_resn`.`Duration`,`service_resn`.`ServiceSub`,`service_resn`.`UsedCount`,`service_resn`.`ReservationId`,`service`.`Pic`,`service`.`Discription` FROM `service_resn` INNER JOIN `service` ON `service_resn`.`ServiceId`=`service`.`ServiceId` WHERE  `CustomerId` = 115  AND `ReservationId` = 0 [ RunTime:0.066556s ]
[ sql ] [ SQL ] SELECT `service_resn`.`RESNId`,`service_resn`.`StaffId`,`service_resn`.`ServiceName`,`service_resn`.`Price_Min`,`service_resn`.`Price_Max`,`service_resn`.`Duration`,`service_resn`.`ServiceSub`,`service_resn`.`UsedCount`,`service_resn`.`ReservationId`,`service`.`Pic`,`service`.`Discription` FROM `service_resn` INNER JOIN `service` ON `service_resn`.`ServiceId`=`service`.`ServiceId` INNER JOIN `reservation` ON `reservation`.`ReservationId`=`reservation`.`ReservationId` WHERE  `service_resn`.`ReservationId` > 0 [ RunTime:0.076931s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `schedule` [ RunTime:0.096637s ]
[ sql ] [ SQL ] SELECT * FROM `schedule` WHERE  `StaffId` = 113 [ RunTime:0.066632s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `user` [ RunTime:0.063585s ]
[ sql ] [ SQL ] SELECT Avatar as avatar,NickName as nickName,Satisfection as satisfection,Certificated as certificated,`WorkStartTime`,`WorkEndTime` FROM `user` WHERE  `UserId` = 113 LIMIT 1 [ RunTime:0.065199s ]
[ sql ] [ SQL ] SELECT `FirmId` FROM `user` WHERE  `UserId` = 113 LIMIT 1 [ RunTime:0.068280s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `firm` [ RunTime:0.076454s ]
[ sql ] [ SQL ] SELECT `FirmName`,`FirmType`,`FirmAddr`,`Staffs`,`Lat`,`Lng`,`Certificated` FROM `firm` WHERE  `ID` = 1 LIMIT 1 [ RunTime:0.067994s ]
[ sql ] [ SQL ] select ID,ROUND(
        6378.138 * 2 * ASIN(SQRT(POW(SIN((39.98246 * PI() / 180 - Lat * PI() / 180) / 2),2) + COS(39.98246 * PI() / 180) * COS(Lat * PI() / 180) * POW( SIN(( 117.07822 * PI() / 180 - Lng * PI() / 180 ) / 2),  2) )) * 1000) AS distance from firm where ID=1 [ RunTime:0.070668s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `reservation` [ RunTime:0.076320s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 115  AND `Status` = 5  AND `firmId` = 1 LIMIT 1 [ RunTime:0.068814s ]
[ sql ] [ SQL ] SELECT * FROM `schedule` WHERE  `StaffId` = 115 [ RunTime:0.065379s ]
[ sql ] [ SQL ] SELECT Avatar as avatar,NickName as nickName,Satisfection as satisfection,Certificated as certificated,`WorkStartTime`,`WorkEndTime` FROM `user` WHERE  `UserId` = 115 LIMIT 1 [ RunTime:0.069211s ]
[ sql ] [ SQL ] SELECT `FirmId` FROM `user` WHERE  `UserId` = 115 LIMIT 1 [ RunTime:0.068121s ]
[ sql ] [ SQL ] SELECT `FirmName`,`FirmType`,`FirmAddr`,`Staffs`,`Lat`,`Lng`,`Certificated` FROM `firm` WHERE  `ID` = 77 LIMIT 1 [ RunTime:0.064436s ]
[ sql ] [ SQL ] select ID,ROUND(
        6378.138 * 2 * ASIN(SQRT(POW(SIN((39.98246 * PI() / 180 - Lat * PI() / 180) / 2),2) + COS(39.98246 * PI() / 180) * COS(Lat * PI() / 180) * POW( SIN(( 117.07822 * PI() / 180 - Lng * PI() / 180 ) / 2),  2) )) * 1000) AS distance from firm where ID=77 [ RunTime:0.063385s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 115  AND `Status` = 5  AND `firmId` = 77 LIMIT 1 [ RunTime:0.067916s ]
---------------------------------------------------------------
[ 2019-09-28T20:05:20+08:00 ] 127.0.0.1 POST trueshow/index/reservation/getAlternative
[运行时间：0.488569s] [吞吐率：2.05req/s] [内存消耗：2,186.53kb] [文件加载：56]
[ info ] [ LANG ] D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'reservation',
    2 => 'getAlternative',
  ),
)
[ info ] [ HEADER ] array (
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'https://servicewechat.com/wxa5ec17098b9f6637/devtools/page-frame.html',
  'accept' => '*/*',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_2 like Mac OS X) AppleWebKit/602.3.12 (KHTML, like Gecko) Mobile/14C92 Safari/601.1 wechatdevtools/1.02.1907300 MicroMessenger/7.0.4 Language/zh_CN webview/',
  'sec-fetch-dest' => 'empty',
  'sec-fetch-site' => 'cross-site',
  'sec-fetch-user' => '?F',
  'origin' => 'http://127.0.0.1:42350',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'content-length' => '29',
  'connection' => 'close',
  'host' => 'trueshow',
)
[ info ] [ PARAM ] array (
  '/index/reservation/getAlternative' => '',
  'firmId' => '1',
  'allMoney' => '140',
  'uid' => '116',
)
[ info ] [ RUN ] app\index\controller\Reservation->getAlternative[ D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\application\index\controller\Reservation.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.099532s ] mysql:host=47.100.218.253;port=3306;dbname=trueshow;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `promote` [ RunTime:0.060814s ]
[ sql ] [ SQL ] SELECT * FROM `promote` INNER JOIN `promote_item` ON `promote`.`PromoteId`=`promote_item`.`PromoteId` WHERE  `promote`.`FirmId` = '1'  AND `promote`.`EndTime` >= '2019-09-28 20:05:19' [ RunTime:0.074872s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `reservation` [ RunTime:0.063345s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 116 LIMIT 1 [ RunTime:0.064149s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 116 LIMIT 1 [ RunTime:0.073497s ]
---------------------------------------------------------------
[ 2019-09-28T20:17:06+08:00 ] 127.0.0.1 POST trueshow/index/reservation/getAllInfo
[运行时间：1.384946s] [吞吐率：0.72req/s] [内存消耗：2,167.86kb] [文件加载：51]
[ info ] [ LANG ] D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'reservation',
    2 => 'getAllInfo',
  ),
)
[ info ] [ HEADER ] array (
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'https://servicewechat.com/wxa5ec17098b9f6637/devtools/page-frame.html',
  'accept' => '*/*',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_2 like Mac OS X) AppleWebKit/602.3.12 (KHTML, like Gecko) Mobile/14C92 Safari/601.1 wechatdevtools/1.02.1907300 MicroMessenger/7.0.4 Language/zh_CN webview/',
  'sec-fetch-dest' => 'empty',
  'sec-fetch-site' => 'cross-site',
  'sec-fetch-user' => '?F',
  'origin' => 'http://127.0.0.1:42350',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'content-length' => '42',
  'connection' => 'close',
  'host' => 'trueshow',
)
[ info ] [ PARAM ] array (
  '/index/reservation/getAllInfo' => '',
  'uid' => '115',
  'userLat' => '39.98246',
  'userLng' => '117.07822',
)
[ info ] [ RUN ] app\index\controller\Reservation->getAllInfo[ D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\application\index\controller\Reservation.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.089469s ] mysql:host=47.100.218.253;port=3306;dbname=trueshow;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `service_resn` [ RunTime:0.071262s ]
[ sql ] [ SQL ] SELECT `service_resn`.`RESNId`,`service_resn`.`StaffId`,`service_resn`.`ServiceName`,`service_resn`.`Price_Min`,`service_resn`.`Price_Max`,`service_resn`.`Duration`,`service_resn`.`ServiceSub`,`service_resn`.`UsedCount`,`service_resn`.`ReservationId`,`service`.`Pic`,`service`.`Discription` FROM `service_resn` INNER JOIN `service` ON `service_resn`.`ServiceId`=`service`.`ServiceId` WHERE  `CustomerId` = 115  AND `ReservationId` = 0 [ RunTime:0.072435s ]
[ sql ] [ SQL ] SELECT `service_resn`.`RESNId`,`service_resn`.`StaffId`,`service_resn`.`ServiceName`,`service_resn`.`Price_Min`,`service_resn`.`Price_Max`,`service_resn`.`Duration`,`service_resn`.`ServiceSub`,`service_resn`.`UsedCount`,`service_resn`.`ReservationId`,`service`.`Pic`,`service`.`Discription` FROM `service_resn` INNER JOIN `service` ON `service_resn`.`ServiceId`=`service`.`ServiceId` INNER JOIN `reservation` ON `reservation`.`ReservationId`=`reservation`.`ReservationId` WHERE  `service_resn`.`ReservationId` > 0 [ RunTime:0.061280s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `schedule` [ RunTime:0.071838s ]
[ sql ] [ SQL ] SELECT * FROM `schedule` WHERE  `StaffId` = 113 [ RunTime:0.068872s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `user` [ RunTime:0.063312s ]
[ sql ] [ SQL ] SELECT Avatar as avatar,NickName as nickName,Satisfection as satisfection,Certificated as certificated,`WorkStartTime`,`WorkEndTime` FROM `user` WHERE  `UserId` = 113 LIMIT 1 [ RunTime:0.060577s ]
[ sql ] [ SQL ] SELECT `FirmId` FROM `user` WHERE  `UserId` = 113 LIMIT 1 [ RunTime:0.060467s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `firm` [ RunTime:0.060572s ]
[ sql ] [ SQL ] SELECT `FirmName`,`FirmType`,`FirmAddr`,`Staffs`,`Lat`,`Lng`,`Certificated` FROM `firm` WHERE  `ID` = 1 LIMIT 1 [ RunTime:0.064917s ]
[ sql ] [ SQL ] select ID,ROUND(
        6378.138 * 2 * ASIN(SQRT(POW(SIN((39.98246 * PI() / 180 - Lat * PI() / 180) / 2),2) + COS(39.98246 * PI() / 180) * COS(Lat * PI() / 180) * POW( SIN(( 117.07822 * PI() / 180 - Lng * PI() / 180 ) / 2),  2) )) * 1000) AS distance from firm where ID=1 [ RunTime:0.061495s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `reservation` [ RunTime:0.062948s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 115  AND `Status` = 5  AND `firmId` = 1 LIMIT 1 [ RunTime:0.060819s ]
[ sql ] [ SQL ] SELECT * FROM `schedule` WHERE  `StaffId` = 115 [ RunTime:0.059027s ]
[ sql ] [ SQL ] SELECT Avatar as avatar,NickName as nickName,Satisfection as satisfection,Certificated as certificated,`WorkStartTime`,`WorkEndTime` FROM `user` WHERE  `UserId` = 115 LIMIT 1 [ RunTime:0.059847s ]
[ sql ] [ SQL ] SELECT `FirmId` FROM `user` WHERE  `UserId` = 115 LIMIT 1 [ RunTime:0.059558s ]
[ sql ] [ SQL ] SELECT `FirmName`,`FirmType`,`FirmAddr`,`Staffs`,`Lat`,`Lng`,`Certificated` FROM `firm` WHERE  `ID` = 77 LIMIT 1 [ RunTime:0.060219s ]
[ sql ] [ SQL ] select ID,ROUND(
        6378.138 * 2 * ASIN(SQRT(POW(SIN((39.98246 * PI() / 180 - Lat * PI() / 180) / 2),2) + COS(39.98246 * PI() / 180) * COS(Lat * PI() / 180) * POW( SIN(( 117.07822 * PI() / 180 - Lng * PI() / 180 ) / 2),  2) )) * 1000) AS distance from firm where ID=77 [ RunTime:0.060693s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 115  AND `Status` = 5  AND `firmId` = 77 LIMIT 1 [ RunTime:0.068523s ]
---------------------------------------------------------------
[ 2019-09-28T20:17:07+08:00 ] 127.0.0.1 POST trueshow/index/reservation/getAlternative
[运行时间：0.443686s] [吞吐率：2.25req/s] [内存消耗：2,186.80kb] [文件加载：56]
[ info ] [ LANG ] D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'reservation',
    2 => 'getAlternative',
  ),
)
[ info ] [ HEADER ] array (
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'https://servicewechat.com/wxa5ec17098b9f6637/devtools/page-frame.html',
  'accept' => '*/*',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_2 like Mac OS X) AppleWebKit/602.3.12 (KHTML, like Gecko) Mobile/14C92 Safari/601.1 wechatdevtools/1.02.1907300 MicroMessenger/7.0.4 Language/zh_CN webview/',
  'sec-fetch-dest' => 'empty',
  'sec-fetch-site' => 'cross-site',
  'sec-fetch-user' => '?F',
  'origin' => 'http://127.0.0.1:42350',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'content-length' => '29',
  'connection' => 'close',
  'host' => 'trueshow',
)
[ info ] [ PARAM ] array (
  '/index/reservation/getAlternative' => '',
  'firmId' => '1',
  'allMoney' => '140',
  'uid' => '116',
)
[ info ] [ RUN ] app\index\controller\Reservation->getAlternative[ D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\application\index\controller\Reservation.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.087308s ] mysql:host=47.100.218.253;port=3306;dbname=trueshow;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `promote` [ RunTime:0.059168s ]
[ sql ] [ SQL ] SELECT * FROM `promote` INNER JOIN `promote_item` ON `promote`.`PromoteId`=`promote_item`.`PromoteId` WHERE  `promote`.`FirmId` = '1'  AND `promote`.`EndTime` >= '2019-09-28 20:17:07' [ RunTime:0.059517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `reservation` [ RunTime:0.062636s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 116 LIMIT 1 [ RunTime:0.057701s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 116 LIMIT 1 [ RunTime:0.059250s ]
---------------------------------------------------------------
[ 2019-09-28T20:18:04+08:00 ] 127.0.0.1 POST trueshow/index/reservation/getAllInfo
[运行时间：1.262214s] [吞吐率：0.79req/s] [内存消耗：2,167.98kb] [文件加载：51]
[ info ] [ LANG ] D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'reservation',
    2 => 'getAllInfo',
  ),
)
[ info ] [ HEADER ] array (
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'https://servicewechat.com/wxa5ec17098b9f6637/devtools/page-frame.html',
  'accept' => '*/*',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_2 like Mac OS X) AppleWebKit/602.3.12 (KHTML, like Gecko) Mobile/14C92 Safari/601.1 wechatdevtools/1.02.1907300 MicroMessenger/7.0.4 Language/zh_CN webview/',
  'sec-fetch-dest' => 'empty',
  'sec-fetch-site' => 'cross-site',
  'sec-fetch-user' => '?F',
  'origin' => 'http://127.0.0.1:42350',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'content-length' => '42',
  'connection' => 'close',
  'host' => 'trueshow',
)
[ info ] [ PARAM ] array (
  '/index/reservation/getAllInfo' => '',
  'uid' => '115',
  'userLat' => '39.98246',
  'userLng' => '117.07822',
)
[ info ] [ RUN ] app\index\controller\Reservation->getAllInfo[ D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\application\index\controller\Reservation.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.086855s ] mysql:host=47.100.218.253;port=3306;dbname=trueshow;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `service_resn` [ RunTime:0.063036s ]
[ sql ] [ SQL ] SELECT `service_resn`.`RESNId`,`service_resn`.`StaffId`,`service_resn`.`ServiceName`,`service_resn`.`Price_Min`,`service_resn`.`Price_Max`,`service_resn`.`Duration`,`service_resn`.`ServiceSub`,`service_resn`.`UsedCount`,`service_resn`.`ReservationId`,`service`.`Pic`,`service`.`Discription` FROM `service_resn` INNER JOIN `service` ON `service_resn`.`ServiceId`=`service`.`ServiceId` WHERE  `CustomerId` = 115  AND `ReservationId` = 0 [ RunTime:0.061825s ]
[ sql ] [ SQL ] SELECT `service_resn`.`RESNId`,`service_resn`.`StaffId`,`service_resn`.`ServiceName`,`service_resn`.`Price_Min`,`service_resn`.`Price_Max`,`service_resn`.`Duration`,`service_resn`.`ServiceSub`,`service_resn`.`UsedCount`,`service_resn`.`ReservationId`,`service`.`Pic`,`service`.`Discription` FROM `service_resn` INNER JOIN `service` ON `service_resn`.`ServiceId`=`service`.`ServiceId` INNER JOIN `reservation` ON `reservation`.`ReservationId`=`reservation`.`ReservationId` WHERE  `service_resn`.`ReservationId` > 0 [ RunTime:0.057650s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `schedule` [ RunTime:0.056589s ]
[ sql ] [ SQL ] SELECT * FROM `schedule` WHERE  `StaffId` = 113 [ RunTime:0.061943s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `user` [ RunTime:0.062314s ]
[ sql ] [ SQL ] SELECT Avatar as avatar,NickName as nickName,Satisfection as satisfection,Certificated as certificated,`WorkStartTime`,`WorkEndTime` FROM `user` WHERE  `UserId` = 113 LIMIT 1 [ RunTime:0.056774s ]
[ sql ] [ SQL ] SELECT `FirmId` FROM `user` WHERE  `UserId` = 113 LIMIT 1 [ RunTime:0.063561s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `firm` [ RunTime:0.061803s ]
[ sql ] [ SQL ] SELECT `FirmName`,`FirmType`,`FirmAddr`,`Staffs`,`Lat`,`Lng`,`Certificated` FROM `firm` WHERE  `ID` = 1 LIMIT 1 [ RunTime:0.060043s ]
[ sql ] [ SQL ] select ID,ROUND(
        6378.138 * 2 * ASIN(SQRT(POW(SIN((39.98246 * PI() / 180 - Lat * PI() / 180) / 2),2) + COS(39.98246 * PI() / 180) * COS(Lat * PI() / 180) * POW( SIN(( 117.07822 * PI() / 180 - Lng * PI() / 180 ) / 2),  2) )) * 1000) AS distance from firm where ID=1 [ RunTime:0.057575s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `reservation` [ RunTime:0.059619s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 115  AND `Status` = 5  AND `firmId` = 1 LIMIT 1 [ RunTime:0.057351s ]
[ sql ] [ SQL ] SELECT * FROM `schedule` WHERE  `StaffId` = 115 [ RunTime:0.058760s ]
[ sql ] [ SQL ] SELECT Avatar as avatar,NickName as nickName,Satisfection as satisfection,Certificated as certificated,`WorkStartTime`,`WorkEndTime` FROM `user` WHERE  `UserId` = 115 LIMIT 1 [ RunTime:0.059339s ]
[ sql ] [ SQL ] SELECT `FirmId` FROM `user` WHERE  `UserId` = 115 LIMIT 1 [ RunTime:0.056800s ]
[ sql ] [ SQL ] SELECT `FirmName`,`FirmType`,`FirmAddr`,`Staffs`,`Lat`,`Lng`,`Certificated` FROM `firm` WHERE  `ID` = 77 LIMIT 1 [ RunTime:0.058138s ]
[ sql ] [ SQL ] select ID,ROUND(
        6378.138 * 2 * ASIN(SQRT(POW(SIN((39.98246 * PI() / 180 - Lat * PI() / 180) / 2),2) + COS(39.98246 * PI() / 180) * COS(Lat * PI() / 180) * POW( SIN(( 117.07822 * PI() / 180 - Lng * PI() / 180 ) / 2),  2) )) * 1000) AS distance from firm where ID=77 [ RunTime:0.058917s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 115  AND `Status` = 5  AND `firmId` = 77 LIMIT 1 [ RunTime:0.059090s ]
---------------------------------------------------------------
[ 2019-09-28T20:18:05+08:00 ] 127.0.0.1 POST trueshow/index/reservation/getAlternative
[运行时间：0.466301s] [吞吐率：2.14req/s] [内存消耗：2,186.90kb] [文件加载：56]
[ info ] [ LANG ] D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'reservation',
    2 => 'getAlternative',
  ),
)
[ info ] [ HEADER ] array (
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'https://servicewechat.com/wxa5ec17098b9f6637/devtools/page-frame.html',
  'accept' => '*/*',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_2 like Mac OS X) AppleWebKit/602.3.12 (KHTML, like Gecko) Mobile/14C92 Safari/601.1 wechatdevtools/1.02.1907300 MicroMessenger/7.0.4 Language/zh_CN webview/',
  'sec-fetch-dest' => 'empty',
  'sec-fetch-site' => 'cross-site',
  'sec-fetch-user' => '?F',
  'origin' => 'http://127.0.0.1:42350',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'content-length' => '29',
  'connection' => 'close',
  'host' => 'trueshow',
)
[ info ] [ PARAM ] array (
  '/index/reservation/getAlternative' => '',
  'firmId' => '1',
  'allMoney' => '140',
  'uid' => '116',
)
[ info ] [ RUN ] app\index\controller\Reservation->getAlternative[ D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\application\index\controller\Reservation.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.097016s ] mysql:host=47.100.218.253;port=3306;dbname=trueshow;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `promote` [ RunTime:0.063517s ]
[ sql ] [ SQL ] SELECT * FROM `promote` INNER JOIN `promote_item` ON `promote`.`PromoteId`=`promote_item`.`PromoteId` WHERE  `promote`.`FirmId` = '1'  AND `promote`.`EndTime` >= '2019-09-28 20:18:05' [ RunTime:0.061935s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `reservation` [ RunTime:0.069960s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 116 LIMIT 1 [ RunTime:0.061699s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 116 LIMIT 1 [ RunTime:0.064866s ]
---------------------------------------------------------------
[ 2019-09-28T20:19:30+08:00 ] 127.0.0.1 POST trueshow/index/reservation/getAllInfo
[运行时间：1.331835s] [吞吐率：0.75req/s] [内存消耗：2,167.58kb] [文件加载：51]
[ info ] [ LANG ] D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'reservation',
    2 => 'getAllInfo',
  ),
)
[ info ] [ HEADER ] array (
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'https://servicewechat.com/wxa5ec17098b9f6637/devtools/page-frame.html',
  'accept' => '*/*',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_2 like Mac OS X) AppleWebKit/602.3.12 (KHTML, like Gecko) Mobile/14C92 Safari/601.1 wechatdevtools/1.02.1907300 MicroMessenger/7.0.4 Language/zh_CN webview/',
  'sec-fetch-dest' => 'empty',
  'sec-fetch-site' => 'cross-site',
  'sec-fetch-user' => '?F',
  'origin' => 'http://127.0.0.1:42350',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'content-length' => '42',
  'connection' => 'close',
  'host' => 'trueshow',
)
[ info ] [ PARAM ] array (
  '/index/reservation/getAllInfo' => '',
  'uid' => '115',
  'userLat' => '39.98246',
  'userLng' => '117.07822',
)
[ info ] [ RUN ] app\index\controller\Reservation->getAllInfo[ D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\application\index\controller\Reservation.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.090195s ] mysql:host=47.100.218.253;port=3306;dbname=trueshow;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `service_resn` [ RunTime:0.063540s ]
[ sql ] [ SQL ] SELECT `service_resn`.`RESNId`,`service_resn`.`StaffId`,`service_resn`.`ServiceName`,`service_resn`.`Price_Min`,`service_resn`.`Price_Max`,`service_resn`.`Duration`,`service_resn`.`ServiceSub`,`service_resn`.`UsedCount`,`service_resn`.`ReservationId`,`service`.`Pic`,`service`.`Discription` FROM `service_resn` INNER JOIN `service` ON `service_resn`.`ServiceId`=`service`.`ServiceId` WHERE  `CustomerId` = 115  AND `ReservationId` = 0 [ RunTime:0.066002s ]
[ sql ] [ SQL ] SELECT `service_resn`.`RESNId`,`service_resn`.`StaffId`,`service_resn`.`ServiceName`,`service_resn`.`Price_Min`,`service_resn`.`Price_Max`,`service_resn`.`Duration`,`service_resn`.`ServiceSub`,`service_resn`.`UsedCount`,`service_resn`.`ReservationId`,`service`.`Pic`,`service`.`Discription` FROM `service_resn` INNER JOIN `service` ON `service_resn`.`ServiceId`=`service`.`ServiceId` INNER JOIN `reservation` ON `reservation`.`ReservationId`=`reservation`.`ReservationId` WHERE  `service_resn`.`ReservationId` > 0 [ RunTime:0.061909s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `schedule` [ RunTime:0.065268s ]
[ sql ] [ SQL ] SELECT * FROM `schedule` WHERE  `StaffId` = 113 [ RunTime:0.060512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `user` [ RunTime:0.061904s ]
[ sql ] [ SQL ] SELECT Avatar as avatar,NickName as nickName,Satisfection as satisfection,Certificated as certificated,`WorkStartTime`,`WorkEndTime` FROM `user` WHERE  `UserId` = 113 LIMIT 1 [ RunTime:0.069199s ]
[ sql ] [ SQL ] SELECT `FirmId` FROM `user` WHERE  `UserId` = 113 LIMIT 1 [ RunTime:0.059419s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `firm` [ RunTime:0.061756s ]
[ sql ] [ SQL ] SELECT `FirmName`,`FirmType`,`FirmAddr`,`Staffs`,`Lat`,`Lng`,`Certificated` FROM `firm` WHERE  `ID` = 1 LIMIT 1 [ RunTime:0.059423s ]
[ sql ] [ SQL ] select ID,ROUND(
        6378.138 * 2 * ASIN(SQRT(POW(SIN((39.98246 * PI() / 180 - Lat * PI() / 180) / 2),2) + COS(39.98246 * PI() / 180) * COS(Lat * PI() / 180) * POW( SIN(( 117.07822 * PI() / 180 - Lng * PI() / 180 ) / 2),  2) )) * 1000) AS distance from firm where ID=1 [ RunTime:0.060445s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `reservation` [ RunTime:0.062631s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 115  AND `Status` = 5  AND `firmId` = 1 LIMIT 1 [ RunTime:0.061530s ]
[ sql ] [ SQL ] SELECT * FROM `schedule` WHERE  `StaffId` = 115 [ RunTime:0.059411s ]
[ sql ] [ SQL ] SELECT Avatar as avatar,NickName as nickName,Satisfection as satisfection,Certificated as certificated,`WorkStartTime`,`WorkEndTime` FROM `user` WHERE  `UserId` = 115 LIMIT 1 [ RunTime:0.063497s ]
[ sql ] [ SQL ] SELECT `FirmId` FROM `user` WHERE  `UserId` = 115 LIMIT 1 [ RunTime:0.059526s ]
[ sql ] [ SQL ] SELECT `FirmName`,`FirmType`,`FirmAddr`,`Staffs`,`Lat`,`Lng`,`Certificated` FROM `firm` WHERE  `ID` = 77 LIMIT 1 [ RunTime:0.061430s ]
[ sql ] [ SQL ] select ID,ROUND(
        6378.138 * 2 * ASIN(SQRT(POW(SIN((39.98246 * PI() / 180 - Lat * PI() / 180) / 2),2) + COS(39.98246 * PI() / 180) * COS(Lat * PI() / 180) * POW( SIN(( 117.07822 * PI() / 180 - Lng * PI() / 180 ) / 2),  2) )) * 1000) AS distance from firm where ID=77 [ RunTime:0.071488s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 115  AND `Status` = 5  AND `firmId` = 77 LIMIT 1 [ RunTime:0.059769s ]
---------------------------------------------------------------
[ 2019-09-28T20:19:31+08:00 ] 127.0.0.1 POST trueshow/index/reservation/getAlternative
[运行时间：0.459458s] [吞吐率：2.18req/s] [内存消耗：2,190.55kb] [文件加载：56]
[ info ] [ LANG ] D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'reservation',
    2 => 'getAlternative',
  ),
)
[ info ] [ HEADER ] array (
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'https://servicewechat.com/wxa5ec17098b9f6637/devtools/page-frame.html',
  'accept' => '*/*',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_2 like Mac OS X) AppleWebKit/602.3.12 (KHTML, like Gecko) Mobile/14C92 Safari/601.1 wechatdevtools/1.02.1907300 MicroMessenger/7.0.4 Language/zh_CN webview/',
  'sec-fetch-dest' => 'empty',
  'sec-fetch-site' => 'cross-site',
  'sec-fetch-user' => '?F',
  'origin' => 'http://127.0.0.1:42350',
  'cache-control' => 'no-cache',
  'pragma' => 'no-cache',
  'content-length' => '29',
  'connection' => 'close',
  'host' => 'trueshow',
)
[ info ] [ PARAM ] array (
  '/index/reservation/getAlternative' => '',
  'firmId' => '1',
  'allMoney' => '140',
  'uid' => '116',
)
[ info ] [ RUN ] app\index\controller\Reservation->getAlternative[ D:\phpStudy1\PHPTutorial\WWW\trueshow\xiangmuserver\application\index\controller\Reservation.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.098679s ] mysql:host=47.100.218.253;port=3306;dbname=trueshow;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `promote` [ RunTime:0.059199s ]
[ sql ] [ SQL ] SELECT * FROM `promote` INNER JOIN `promote_item` ON `promote`.`PromoteId`=`promote_item`.`PromoteId` WHERE  `promote`.`FirmId` = '1'  AND `promote`.`EndTime` >= '2019-09-28 20:19:30' [ RunTime:0.060836s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `reservation` [ RunTime:0.063324s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 116 LIMIT 1 [ RunTime:0.059367s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `reservation` WHERE  `CustomerId` = 116 LIMIT 1 [ RunTime:0.060117s ]
